{% extends "base.html" %}
{% block content %}

<h2>{{ account }}</h2>

<p><strong>Type:</strong> {{ account.get_type_display }}</p>
<p><strong>Balance:</strong> ${{ account.balance|floatformat:2 }}</p>

<h3>Recent Transactions</h3>

<p>
    <a href="{% url 'accounting:bankaccount_register' account.id %}" 
     class="btn btn-primary btn-sm">
     View Register
   </a>
   <a class="btn btn-secondary" href="{% url 'accounting:banktransaction_create' account.pk %}">
     New Transaction
   </a>
   <a href="{% url 'accounting:banktransaction_import' account.id %}"
    class="btn btn-warning btn-sm">
    Import CSV
   </a>
</p>

<table class="table table-bordered">
  <tr>
    <th>Date</th>
    <th>Description</th>
    <th>Amount</th>
  </tr>
  {% for txn in recent_transactions %}
  <tr>
    <td>{{ txn.date }}</td>
    <td>{{ txn.description }}</td>
    <td>{{ txn.amount|floatformat:2 }}</td>
  </tr>
  {% empty %}
  <tr><td colspan="3">No transactions yet.</td></tr>
  {% endfor %}
</table>

{% endblock %}
